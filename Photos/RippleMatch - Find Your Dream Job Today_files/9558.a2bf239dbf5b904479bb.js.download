(self.webpackChunkripple=self.webpackChunkripple||[]).push([[9558],{11094:(e,n,t)=>{"use strict";t.d(n,{_n:()=>a,A2:()=>r,Nu:()=>c});var o=t(91317),i=t.n(o),a=function(e){return i().http.get("/api/app/filter-choices",{params:e})},r=function(e){return i().http.get("/api/app/input-choices-models",{params:e})},c=function(e){return i().http.get("/api/app/input-choices",{params:e})}},9855:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var o=t(62334),i=t(91317),a=t.n(i);function r(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var c=["submit","cancel","update"],s=function(){function e(n){var t=n.component,i=n.props,r=n.config,s=n.parentModalId,u=n.hooks;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this._id=(0,o.DO)();var m=(t.options?t.options.name:t.name)||"modal-"+this._id;if(a().component(m,t),this._component=m,this._props=i,this._config={showCloseX:!0,showFooter:!0,deferSizing:!1,saveText:"Save",closeText:"Cancel",customClass:"",style:{}},r&&Object.assign(this._config,r),this._listeners={},this._timeCreated=(new Date).getTime(),this._parentModalId=s,u)for(var p in u)c.includes(p)&&this.$on(p,u[p])}var n,t;return n=e,(t=[{key:"$on",value:function(e,n){this._listeners[e]?this._listeners[e].push(n):this._listeners[e]=[n]}},{key:"$emit",value:function(e){var n=this._listeners[e],t=[];if(n instanceof Array)for(var o=0;o<n.length;o++){var i=Array.prototype.slice.call(arguments);i.splice(0,1);var a=n[o].apply(null,i);if(Promise.resolve(a)===a||a&&a.promise){var r=a;a.promise&&(r=a.promise),t.push(r)}}return Promise.all(t)}}])&&r(n.prototype,t),e}()},11486:(e,n,t)=>{"use strict";t.d(n,{$:()=>a});var o=t(9855),i=t(87393),a=function(e){var n=e.component,t=e.props,a=e.config,r=e.parentModalId,c=e.hooks;if(n)return new o.Z({component:n,props:t,config:a,parentModalId:r,hooks:c});(0,i.H)("component is required as first argument for reactive modal")}},21030:(e,n,t)=>{"use strict";t.d(n,{j:()=>o});var o=function(){var e=window.crypto||window.msCrypto;return([1e3]+-1e3+-4e3+-8e3).replace(/[018]/g,(function(n){return(n^e.getRandomValues(new Uint8Array(1))[0]&15>>n/4).toString(16)}))}},28558:(e,n,t)=>{"use strict";t.d(n,{Z:()=>m});var o=t(58891),i=t(91317),a=t.n(i),r=t(18668),c=t(6235),s={getCompanyPage:function(e){var n=e.state.pageId;return new Promise((function(t,o){(0,r.Ar)(n).then((function(n){e.commit(c.PQ,n.body),e.commit(c.f2,n.body),e.commit(c.zX,n.body),e.dispatch("createBlurbObjects",n.body),e.dispatch("createImageObjects",n.body),t(n)}),(function(e){o(e)}))}))},updateCompanyPageImage:function(e,n){var t=n.payload,i=n.index,a=n.blurbId,s=e.state.pageId;return new Promise((function(n,u){(0,r.hH)(s,t).then((function(t){t.body.images.forEach((function(n){var r={image:n,index:i,blurbId:a};switch(n.image_type){case 1:e.commit(c.Td,{image:n});break;case 2:(0,o.rK)("unused");break;case 3:e.commit(c.dP,r);break;case 4:void 0===i?e.commit(c.Jn,t):e.commit(c.YP,r)}})),n(t)}),(function(e){u(e)}))}))},updateCultureBlockPosition:function(e,n){e.commit(c.w7,n);var t={blurbs:e.state.cultureBlocks},o=e.state.pageId;return new Promise((function(n,i){return(0,r.hH)(o,t).then((function(t){var o=t.body.blurbs.sort((function(e,n){return e.position-n.position}));e.commit(c.x1,{cultureBlocks:o}),n(t)}),(function(e){i(e)}))}))},updatePeoplePosition:function(e,n){e.commit(c.eI,n);var t={blurbs:e.state.people},o=e.state.pageId;return new Promise((function(n,i){return(0,r.hH)(o,t).then((function(t){var o=t.body.blurbs.sort((function(e,n){return e.position-n.position}));e.commit(c.hv,{people:o}),n(t)}),(function(e){i(e)}))}))},updateCompanyPageBlurb:function(e,n){var t=n.payload,o=e.state.pageId;return new Promise((function(n,i){(0,r.hH)(o,t).then((function(t){t.body.blurbs.forEach((function(n){switch(n.blurb_type){case 1:e.commit(c.mT,n);break;case 2:e.commit(c.vE,n);break;case 3:e.commit(c.yc,n);break;case 4:e.commit(c.rj,n);break;case 5:e.commit(c.sV,n)}})),n(t)}),(function(e){i(e)}))}))},deleteCompanyPageApi:function(e,n){var t=e.state.pageId;return new Promise((function(e,i){(0,r.eS)(t,n).then((function(n){e(n)}),(function(e){(0,o.rK)("error deleting item"),i(e)}))}))},deleteImage:function(e,n){var t=n.image,i={image:t.id};e.dispatch("deleteCompanyPageApi",i).then((function(){4===t.image_type&&e.commit(c.r5,t)}),(function(){(0,o.rK)("error with commit")}))},deleteBlurbWithImage:function(e,n){var t=n.blurb,i={blurb:t.id};e.dispatch("deleteCompanyPageApi",i).then((function(){4===t.blurb_type&&e.commit(c.As,t),5===t.blurb_type&&e.commit(c.cK,t)}),(function(){(0,o.rK)("error with commit")}))},updateCompanyPageInfo:function(e,n){var t=n.payload,o=e.state.pageId;return new Promise((function(n,i){(0,r.hH)(o,t).then((function(t){var o=t.body;e.commit(c.PQ,{company_page:o}),n(t)}),(function(e){i(e)}))}))},removeLocation:function(e,n){e.commit(c.ri,{index:n}),e.dispatch("setLocationPayload")},setLocationPayload:function(e){var n={value:e.getters.location,field:"location"};e.commit(c.B$,n)},addNewLocation:function(e,n){e.commit(c.xp,{newLocation:n}),e.dispatch("setLocationPayload")},updateCompanyPageFields:function(e,n){var t=e.state.pageId;return new Promise((function(o,i){(0,r.hH)(t,n).then((function(n){var t=n.body.company_page;e.commit(c.PQ,{company_page:t}),o(n)}),(function(e){i(e)}))}))},updateCompanyPageSection:function(e,n){e.commit(c.B$,n)},updateInstagramInfo:function(e){return new Promise((function(n,t){a().http.post("/api/v2/integrations/instagram/disconnect").then((function(t){var o={instagram_live:t.body.instagram_live};e.commit(c.rp,{company_page:o}),n(t)}),(function(e){t(e)}))}))},changeFollows:function(e,n){return new Promise((function(t,o){(function(e){return a().http.put("/discover/api/toggle_follow/".concat(e))})(n).then((function(n){e.commit(c.W1,n.body),t(n)}),(function(e){t(e)}))}))},createImageObjects:function(e,n){var t=n.company_page,o={},i={},a=[];t.images.forEach((function(n){1===n.image_type?i[n.position]=n:2===n.image_type?o[n.position]=n:4===n.image_type?a.push(n):6===n.image_type&&e.commit(c.rA,{image:n})})),a=e.getters.sortArrayByPosition(a),e.commit(c.sx,{extraImages:a}),e.commit(c.gU,{floatingImages:o}),e.commit(c.S6,{logos:i})},createBlurbObjects:function(e,n){var t=n.company_page,o={},i={},a={},r=[],s=[];t.blurbs.forEach((function(e){1===e.blurb_type?o[e.position]=e:2===e.blurb_type?a[e.position]=e:3===e.blurb_type?i[e.position]=e:4===e.blurb_type?(e.image||(e.image={}),s.push(e)):5===e.blurb_type&&r.push(e)})),e.commit(c.hv,{people:r}),e.commit(c.u8,{blurbs:o}),e.commit(c.bt,{socialLinks:i}),e.commit(c.h9,{personalLinks:a}),e.commit(c.x1,{cultureBlocks:s})},setCompanyPageWithoutApi:function(e,n){var t=n.newCompanyPage;n.fields.forEach((function(n){var o={field:n,option:t[n]};e.dispatch("setCompanyPageField",o)}))},updateIfNeeded:function(e){return new Promise((function(n,t){e.getters.updateNeeded()?e.dispatch("updateBlurbsAndImages").then((function(){n()}),(function(e){t(e)})):n()}))},saveAndSetPage:function(e,n){e.dispatch("updateIfNeeded").then((function(){var t=n.id,o=window.location.pathname+"?page=".concat(t);window.history.replaceState(null,null,o),e.dispatch("setPage",n)}))},updateBlurbsAndImages:function(e){var n=e.state.pageId,t=e.state.payload;return e.commit(c.MT,2),new Promise((function(o,i){(0,r.hH)(n,t).then((function(n){e.commit(c.MT,3),e.commit(c.rp,n.body),e.dispatch("updateBlurbs",n.body.blurbs),e.commit(c.LM),o(n)}),(function(n){e.commit(c.MT,5),i(n)}))}))},updateBlurbs:function(e,n){n.forEach((function(n){switch(n.blurb_type){case 1:e.commit(c.mT,n);break;case 2:e.commit(c.vE,n);break;case 3:e.commit(c.yc,n)}}))},setPage:function(e,n){var t=e.state.currentPage,o=n.id;e.commit(c.vF,n),t!==o&&(e.commit(c.MT,void 0),window.scrollTo(0,0))},updateExistingImage:function(e,n){var t={images:[n.image]},i=e.state.pageId;return new Promise((function(n,a){(0,r.hH)(i,t).then((function(n){n.body.images.forEach((function(n){switch(n.image_type){case 1:case 2:case 3:(0,o.rK)("unused");break;case 4:e.commit(c.YP,n)}}))}))}))},setNewImage:function(e,n){var t={images:[n.image]},o=e.state.pageId;return new Promise((function(){(0,r.hH)(o,t).then((function(n){n.body.images.forEach((function(n){switch(n.image_type){case 1:case 2:case 3:break;case 4:e.commit(c.Jn,n)}}))}))}))},setFloatingImage:function(e,n){e.commit(c.Cw,n)},setJobBanner:function(e,n){var t=n.image;e.commit(c.rA,{image:t})},setBlurbText:function(e,n){var t=n.blurb,o={text:n.text,blurb:t};switch(t.blurb_type){case 1:o.field="blurbs";break;case 2:o.field="personalLinks";break;case 3:o.field="socialLinks"}e.commit(c.eF,o),e.commit(c.ld,t)}},u={companyId:function(e){return e.companyPage.company.id},location:function(e){return e.companyPage.location},sideBarOptions:function(e){var n=[{sidebarName:"Welcome",id:0},{sidebarName:"Company information",id:1},{sidebarName:"Company overview",id:2},{sidebarName:"Main images",id:3},{sidebarName:"Culture",id:4},{sidebarName:"People",id:5},{sidebarName:"Perks",id:6},{sidebarName:"Company card",id:7},{sidebarName:"Settings",id:8}];if(e.companyPage.company.page_enabled&&e.companyPage.company.jobs_enabled){var t=n.length-1;n.splice(t,0,{sidebarName:"Jobs page",id:9})}return n},singleBlurb:function(e,n){return function(t){return e.blurbs[t]||n.blankBlurb(t,1)}},singlePersonalLink:function(e,n){return function(t){return e.personalLinks[t]||n.blankBlurb(t,2)}},singleSocialLink:function(e,n){return function(t){return e.socialLinks[t]||n.blankBlurb(t,3)}},blankBlurb:function(e){return function(e,n){return{blurb_type:n,position:e,text:"",header:"",subheader:"",tagline:""}}},instagramLive:function(e){return e.companyPage.instagram_live},updateNeeded:function(e){return function(n){return!!e.payload.blurbs.length||!!e.payload.images.length||!!Object.keys(e.payload.company_page).length}},sortArrayByPosition:function(e){return function(e){return e.sort((function(e,n){return e.position-n.position}))}},perks:function(e){var n=[];return e.companyPage.perks&&(n=e.companyPage.perks.split(",").map(Number)),n}};const m={state:{pageId:window.page_id,readOnly:window.brand,preview:window.preview,manager:window.accountManager,followInfo:{follows:window.isFollowing,isRecruiter:window.isRecruiter,loggedIn:window.isLoggedIn},companyPage:{company:{}},activeJobs:[],jobsEnabled:!1,currentPage:0,saveStatus:void 0,personalLinks:{},logos:{},socialLinks:{},extraImages:[],blurbs:{},floatingImages:{},jobBanner:{},cultureBlocks:[],people:[],perks:[],payload:{blurbs:[],images:[],company_page:{}}},namespaced:!0,mutations:c.P$,actions:s,getters:u}},79177:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var o,i,a,r=t(57953),c="RECEIVE_ALL_COMPANY_PAGES";const s={state:function(){return{companyPages:[]}},namespaced:!0,mutations:(a=function(e,n){e.companyPages=e.companyPages.concat(n.company_pages)},(i=c)in(o={})?Object.defineProperty(o,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[i]=a,o),actions:{getFollowingCompanies:function(e,n){return new Promise((function(t,o){r.E1(n).then((function(n){e.commit(c,n.body),t(n)}),(function(e){o(e)}))}))}},getters:{companyPages:function(e){return e.companyPages}}}}}]);